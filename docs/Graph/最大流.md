## 视频

<div style = "position: relative; width: 100%; height: 0; padding-bottom: 56.25%;">
    <iframe style = "position: absolute; top: 0; left: 0; width: 100%;height: 100%;" frameborder="0" allowFullScreen="true" src="https://wiki-58c2.obs.myhuaweicloud.com:443/%E7%BD%91%E7%BB%9C%E6%B5%81.mp4?AccessKeyId=ELA8MJ5R84QLXCTFQQ1R&Expires=1688749078&Signature=k2Yn1zYU%2BzSZW/noDPYnWT3aSbE%3D"></iframe>
</div>

## 题目

```c++
struct node{
    int to, next, w;
}edge[maxm << 1];
int head[maxn] ,cnt;
void add(int u, int v, int w){
    edge[++cnt].to = v;
    edge[cnt].w = w;
    edge[cnt].next = head[u];
    head[u] = cnt;
}
int depth[maxn];
int n, m;
int st, ed;
int bfs(void){
    memset(depth, 0, sizeof(depth));
    queue<int> q;
    q.push(st);
    depth[st] = 1;
    int now;
    while(!q.empty()){
        now = q.front();
        q.pop();
        for(int i = head[now];~i;i = edge[i].next){
            int to = edge[i].to;
            if(edge[i].w > 0 && !depth[to]){
                depth[to] = depth[now] + 1;
                q.push(to);
            }
        }
    }
    return depth[ed] > 0;
}
int dfs(int now, int flow){ // 父亲流来的流量
    if(now == ed) return flow;
    int sum = 0; // 我实际流的流量
    for(int i = head[now];~i;i = edge[i].next){
        int to = edge[i].to;
        if(depth[to] == depth[now] + 1 && edge[i].w){
            int tmp = dfs(to, min(edge[i].w, flow - sum));
            edge[i].w -= tmp;
            edge[i ^ 1].w += tmp;
            sum += tmp;
        }
    }
    if(sum == 0) depth[now] = -1;
    return sum;
}
int dinic(){
    int sum = 0;
    while(bfs()) {
        sum += dfs(st, inf);
    }
    return sum;
}

```

